<div class="py-10 px-30 relative h-[calc(100vh_-_60px)]">
  <dd-error-handler
    [hasError]="hasLoadingError"
    message="Something went wrong, contact the admins."
    bgClass="bg-slate-200"
  ></dd-error-handler>
  <dd-spinner *ngIf="isLoading" message="Loading strategies..."></dd-spinner>
  <div class="grid grid-cols-9 gap-10 h-full">
    <div class="col-span-2 h-[calc(100vh_-_100px)]">
      <div class="h-1/3 mb-10">
        <div class="bg-white rounded-lg rounded-tl-3xl h-full overflow-clip">
          <dd-index-details [index]="index" [isLoading]="isDataLoading"></dd-index-details>
        </div>
      </div>
      <div class="h-1/3 mb-10">
        <dd-deal-config [dealConfig]="data?.deal_config" [isLoading]="isDataLoading"></dd-deal-config>
      </div>
      <div class="h-1/3">
        <dd-hedge-config [hedgeConfig]="data?.hedge_config" [isLoading]="isDataLoading"></dd-hedge-config>
      </div>
    </div>
    <div class="col-span-7 gap-y-10 pb-10 h-full">
      <div class="grid grid-cols-7 gap-10 h-[calc(67vh_-_60px)] mb-10">
        <div class="col-span-5 h-full">
          <dd-plot-strategy
            [index]="index"
            [dealConfig]="data?.deal_config"
            [refreshPlots$]="refreshPlots$"
            [indexPrices]="indexPrices"
          ></dd-plot-strategy>
        </div>
        <div class="col-span-2 h-full">
          <dd-strategy-detail
            [strategy]="selectedStrategyDetail"
            [isLoading]="isStrategyDetailLoading"
          ></dd-strategy-detail>
        </div>
      </div>
      <div class="h-[calc(33vh_-_30px)]">
        <dd-hedging-strategies-table
          [dataSource]="hedgingStrategyDataSource"
          (changeSelection)="onSelectStrategy($event)"
        ></dd-hedging-strategies-table>
      </div>
    </div>
  </div>
</div>
